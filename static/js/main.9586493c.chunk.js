(this["webpackJsonpchat-app-with-firebase"]=this["webpackJsonpchat-app-with-firebase"]||[]).push([[0],{112:function(e,t,a){e.exports=a(155)},121:function(e,t){e.exports="data:image/png;base64,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"},131:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),s=a.n(i),o=a(49),c=a(39),u=a(12),l=a.n(u),p=a(25),m=a(18),h=a(19),d=a(21),g=a(20),f=a(22),b=a(195),w=a(181),v=a(188),x=a(183),k=a(184),E=a(185),C=a(187),A=a(186),y=a(7),S=a(72),T=a(98),O=a.n(T),j=a(13),N=function(e){return{root:Object(j.a)({backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"100%",boxShadow:"0px 0px 2px black"},e.breakpoints.up("md"),{width:"300px"}),listItem:{cursor:"pointer"},newChatBtn:{borderRadius:"0px"},unreadMessage:{color:"red",position:"absolute",top:"0",right:"5px"}}},B=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).selectChat=function(e){return a.props.selectChatFn(e)},a.userIsSender=function(e){return e.messages[e.messages.length-1].sender===a.props.userEmail},a.newChat=function(){return a.props.newChatBtnFn()},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return this.props.chats.length>0?r.a.createElement("div",{className:t.root},r.a.createElement(w.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:this.newChat,className:t.newChatBtn},"New Message"),r.a.createElement(x.a,null,this.props.chats.map((function(a,n){return r.a.createElement("div",{key:n},r.a.createElement(k.a,{onClick:function(){return e.selectChat(n)},className:t.listItem,selected:e.props.selectedChatIndex===n,alignItems:"flex-start"},r.a.createElement(E.a,null,r.a.createElement(b.a,{alt:"Remy Sharp"},a.users.filter((function(t){return t!==e.props.userEmail}))[0].split("")[0])),r.a.createElement(A.a,{primary:a.users.filter((function(t){return t!==e.props.userEmail}))[0],secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{component:"span",color:"textPrimary"},a.messages[a.messages.length-1].isTextMsg?a.messages[a.messages.length-1].message.substring(0,30)+" ...":"[Sticker]"))}),!1!==a.receiverHasRead||e.userIsSender(a)?null:r.a.createElement(C.a,null,r.a.createElement(O.a,{className:t.unreadMessage}))),r.a.createElement(v.a,null))})))):r.a.createElement("div",{className:t.root},r.a.createElement(w.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:this.newChat,className:t.newChatBtn},"New Message"),r.a.createElement(x.a,null))}}]),t}(r.a.Component),F=Object(y.a)(N)(B),L=function(e){return{listWrapper:Object(j.a)({display:"none"},e.breakpoints.up("md"),{display:"block"}),signOutBtn:Object(j.a)({position:"absolute",bottom:"0px",left:"0px",width:"100%",borderRadius:"0px",backgroundColor:"#227092",height:"35px",boxShadow:"0px 0px 2px black",color:"white"},e.breakpoints.up("md"),{width:"300px"})}},H=function(e){return{content:Object(j.a)({height:"62vh",overflow:"auto",padding:"25px",boxSizing:"border-box",overflowY:"scroll",top:"25%",width:"100%",position:"absolute"},e.breakpoints.up("md"),{height:"72vh",marginLeft:"300px",top:"20%",width:"calc(100% - 300px)"}),friendSent:{float:"left",clear:"both",padding:"20px",boxSizing:"border-box",wordWrap:"break-word",marginTop:"10px",backgroundColor:"#707BC4",color:"white",width:"300px",borderRadius:"10px",display:"flex"},userSent:{float:"right",clear:"both",padding:"20px",boxSizing:"border-box",wordWrap:"break-word",marginTop:"10px",backgroundColor:"#707BC4",color:"white",width:"300px",borderRadius:"10px",display:"flex"},chatHeader:Object(j.a)({width:"100%",backgroundColor:"#344195",position:"fixed",fontSize:"18px",textAlign:"center",color:"white",padding:"10px",boxSizing:"border-box"},e.breakpoints.up("md"),{width:"calc(100% - 301px)",marginLeft:"301px"}),backButton:Object(j.a)({marginRight:10},e.breakpoints.up("md"),{display:"none"})}},I=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){var e=document.getElementById("chatview-container");e&&e.scrollTo(0,e.scrollHeight)},a.componentDidUpdate=function(){var e=document.getElementById("chatview-container");e&&e.scrollTo(0,e.scrollHeight)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.chat,i=t.user;return void 0===n?r.a.createElement("main",{className:a.content}):void 0!==n?r.a.createElement("div",null,r.a.createElement("div",{className:a.chatHeader},r.a.createElement("button",{onClick:function(){return e.props.handleBack()},className:a.backButton},"Back"),"Your conversation with"," ",n.users.filter((function(e){return e!==i}))[0]),r.a.createElement("main",{id:"chatview-container",className:a.content},n.messages.map((function(e,t){return r.a.createElement("div",{key:t,className:e.sender===i?a.userSent:a.friendSent,style:{background:e.isTextMsg?e.sender===i?"#707BC4":"tomato":"transparent",justifyContent:e.isTextMsg||e.sender!==i?"flex-start":"flex-end"}},e.isTextMsg?e.message:r.a.createElement("img",{src:e.message,style:{width:80}}))})))):r.a.createElement("div",{className:"chatview-container"},"Loading...")}}]),t}(r.a.Component),V=Object(y.a)(H)(I),U=a(193),D=a(101),W=a.n(D),J=function(e){return{sendBtn:{color:"blue",cursor:"pointer","&:hover":{color:"gray"}},chatTextBoxContainer:Object(j.a)({position:"absolute",bottom:"40px",boxSizing:"border-box",overflow:"auto",width:"100%",display:"flex",padding:"0 10px"},e.breakpoints.up("md"),{bottom:"15px",left:"315px",width:"calc(100% - 300px - 50px)",display:"flex"}),chatTextBox:{width:"calc(100% - 25px)"},listStickerWrapper:Object(j.a)({width:"100%",padding:"30px 0px",position:"absolute",bottom:100,justifyContent:"center",background:"#242526",opacity:.9,flexWrap:"wrap"},e.breakpoints.up("md"),{width:450,padding:"30px 0px",position:"absolute",bottom:55,right:40,justifyContent:"center",background:"#242526",opacity:.9,flexWrap:"wrap"})}},M=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(g.a)(t).call(this))).messageValid=function(e){return e&&e.replace(/\s/g,"").length},e.userClickedInput=function(){return e.props.userClickedInputFn()},e.submitMessage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;(e.messageValid(e.state.chatText)||t)&&(e.props.submitMessageFn(null!==t&&void 0!==t?t:e.state.chatText,t),document.getElementById("chattextbox").value="",e.setState({chatText:"",isShowSticker:!1}))},e.state={chatText:"",isShowSticker:!1},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.body.addEventListener("click",(function(){return e.setState({isShowSticker:!1})}))}},{key:"componentWillUnmount",value:function(){var e=this;document.body.removeEventListener("click",(function(){return e.setState({isShowSticker:!1})}))}},{key:"userTyping",value:function(e){13===e.keyCode?this.submitMessage():this.setState({chatText:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.chatTextBoxContainer},r.a.createElement(U.a,{placeholder:"Type your message..",onKeyUp:function(t){return e.userTyping(t)},id:"chattextbox",className:t.chatTextBox}),r.a.createElement(W.a,{onClick:function(){return e.submitMessage()},className:t.sendBtn}),r.a.createElement("img",{src:a(121),style:{width:25,height:25,marginLeft:10,cursor:"pointer"},onClick:function(){return e.setState({isShowSticker:!e.state.isShowSticker})}})),r.a.createElement("div",{style:{display:this.state.isShowSticker?"flex":"none"},className:t.listStickerWrapper},["https://live.staticflickr.com/65535/51712132023_4e56708c7e_o.gif","https://live.staticflickr.com/65535/51711858746_1aa7f65ae0_o.gif","https://live.staticflickr.com/65535/51712739710_e9d9b5acb2_o.gif","https://live.staticflickr.com/65535/51711072717_bdc485002c_o.gif","https://live.staticflickr.com/65535/51711072792_098510dfb0_o.gif","https://live.staticflickr.com/65535/51712739790_ea335cb494_o.gif","https://live.staticflickr.com/65535/51712528224_c911097c89_o.gif","https://live.staticflickr.com/65535/51712528234_134ab24958_o.gif","https://live.staticflickr.com/65535/51712528264_4523a9c650_o.gif","https://live.staticflickr.com/65535/51712739865_607d99a9a0_o.gif"].map((function(t){return r.a.createElement("img",{src:t,style:{width:80,height:80,cursor:"pointer"},onClick:function(){return e.submitMessage(t)}})}))))}}]),t}(r.a.Component),R=Object(y.a)(J)(M),Z=a(192),z=a(191),K=a(190),Y=a(194),Q=a(189),q=function(e){return{main:Object(j.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:Object(j.a)({padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px"),position:"absolute",width:"350px",top:"50px"},e.breakpoints.up("md"),{padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px"),position:"absolute",width:"100%",top:"50px",left:"calc(50% + 150px - 175px)"}),input:{},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},errorText:{color:"red",textAlign:"center"}}},G=a(52),P=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(g.a)(t).call(this))).userTyping=function(t,a){switch(t){case"username":e.setState({username:a.target.value});break;case"message":e.setState({message:a.target.value})}},e.submitNewChat=function(){var t=Object(p.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.state.username!==e.props.email){t.next=4;break}return alert("It's own email"),t.abrupt("return");case 4:return t.next=6,e.userExists();case 6:if(!t.sent){t.next=12;break}return t.next=10,e.chatExists();case 10:t.sent?e.goToChat():e.createChat();case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.buildDocKey=function(){return[G.auth().currentUser.email,e.state.username].sort().join(":")},e.createChat=function(){e.props.newChatSubmitFn({sendTo:e.state.username,message:e.state.message})},e.goToChat=function(){return e.props.goToChatFn(e.buildDocKey(),e.state.message)},e.chatExists=Object(p.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.buildDocKey(),t.next=3,G.firestore().collection("chats").doc(a).get();case 3:return n=t.sent,console.log(n.exists),t.abrupt("return",n.exists);case 6:case"end":return t.stop()}}),t)}))),e.userExists=Object(p.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.firestore().collection("users").get();case 2:return a=t.sent,n=a.docs.map((function(e){return e.data().email})).includes(e.state.username),e.setState({serverError:!n}),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),e.state={username:null,message:null},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){G.auth().currentUser||this.props.history.push("/login")}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("main",{className:t.main},r.a.createElement(Z.a,null),r.a.createElement(z.a,{className:t.paper},r.a.createElement(S.a,{component:"h1",variant:"h5"},"Send A Message!"),r.a.createElement("form",{className:t.form,onSubmit:function(t){return e.submitNewChat(t)}},r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(Y.a,{htmlFor:"new-chat-username"},"Enter Your Friend's Email"),r.a.createElement(Q.a,{required:!0,className:t.input,autoFocus:!0,onChange:function(t){return e.userTyping("username",t)},id:"new-chat-username"})),r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(Y.a,{htmlFor:"new-chat-message"},"Enter Your Message"),r.a.createElement(Q.a,{required:!0,className:t.input,onChange:function(t){return e.userTyping("message",t)},id:"new-chat-message"})),r.a.createElement(w.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,type:"submit"},"Send"),r.a.createElement(w.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,type:"button",style:{background:"gray"},onClick:function(){return e.props.handleCancel()}},"Cancel")),this.state.serverError?r.a.createElement(S.a,{component:"h5",variant:"h6",className:t.errorText},"Unable to locate the user"):null))}}]),t}(r.a.Component),X=Object(y.a)(q)(P),_=a(52),$=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(g.a)(t).call(this))).componentWillMount=function(){_.auth().onAuthStateChanged(function(){var t=Object(p.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a?_.firestore().collection("chats").where("users","array-contains",a.email).onSnapshot(function(){var t=Object(p.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.docs.map((function(e){return e.data()})),e.setState({email:a.email,chats:r,friends:[]});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):e.props.history.push("/login");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e.newChatBtnClicked=function(){return e.setState({newChatFormVisible:!0,selectedChat:null})},e.clickedMessageWhereNotSender=function(t){return e.state.chats[t].messages[e.state.chats[t].messages.length-1].sender!==e.state.email},e.selectChat=function(){var t=Object(p.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({selectedChat:a,newChatFormVisible:!1});case 2:e.messageRead();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.messageRead=function(){var t=e.state.selectedChat,a=e.buildDocKey(e.state.chats[t].users.filter((function(t){return t!==e.state.email}))[0]);e.clickedMessageWhereNotSender(t)?_.firestore().collection("chats").doc(a).update({receiverHasRead:!0}):console.log("Clicked message where the user was the sender")},e.buildDocKey=function(t){return[e.state.email,t].sort().join(":")},e.submitMessage=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=e.buildDocKey(e.state.chats[e.state.selectedChat].users.filter((function(t){return t!==e.state.email}))[0]);_.firestore().collection("chats").doc(n).update({messages:_.firestore.FieldValue.arrayUnion({sender:e.state.email,message:a||t,timestamp:Date.now(),isTextMsg:!a}),receiverHasRead:!1})},e.goToChat=function(){var t=Object(p.a)(l.a.mark((function t(a,n){var r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.split(":"),i=e.state.chats.find((function(e){return r.every((function(t){return e.users.includes(t)}))})),e.setState({newChatFormVisible:!1}),t.next=5,e.selectChat(e.state.chats.indexOf(i));case 5:e.submitMessage(n);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.newChatSubmit=function(){var t=Object(p.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.buildDocKey(a.sendTo),t.next=3,_.firestore().collection("chats").doc(n).set({messages:[{message:a.message,sender:e.state.email,isTextMsg:!0}],users:[e.state.email,a.sendTo],receiverHasRead:!1});case 3:e.setState({newChatFormVisible:!1}),e.selectChat(e.state.chats.length-1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.signOut=function(){return _.auth().signOut()},e.state={selectedChat:null,newChatFormVisible:!1,email:null,friends:[],chats:[]},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"handleBack",value:function(){this.setState({selectedChat:null})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.selectedChat,i=a.newChatFormVisible,s=a.email,o=a.chats;return r.a.createElement("div",null,r.a.createElement("h1",null,"My email: ",s),r.a.createElement("div",{className:"number"===typeof n?t.listWrapper:null},r.a.createElement(F,{selectChatFn:this.selectChat,newChatBtnFn:this.newChatBtnClicked,userEmail:s,chats:o,selectedChatIndex:n})),i||"number"!==typeof n?null:r.a.createElement(V,{user:s,chat:o[n],handleBack:function(){return e.handleBack()}}),null===n||i?null:r.a.createElement(R,{userClickedInputFn:this.messageRead,submitMessageFn:this.submitMessage}),this.state.newChatFormVisible?r.a.createElement(X,{email:this.state.email,goToChatFn:this.goToChat,newChatSubmitFn:this.newChatSubmit,handleCancel:function(){return e.setState({newChatFormVisible:!1})}}):null,r.a.createElement(w.a,{onClick:this.signOut,className:t.signOutBtn},"Sign Out"))}}]),t}(n.Component),ee=Object(y.a)(L)($),te=(a(131),function(e){return{main:Object(j.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},noAccountHeader:{width:"100%"},signUpLink:{width:"100%",textDecoration:"none",color:"#303f9f",fontWeight:"bolder"},errorText:{color:"red",textAlign:"center"}}}),ae=a(70),ne=a.n(ae),re=a(52),ie=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(g.a)(t).call(this))).componentWillMount=function(){re.auth().onAuthStateChanged(function(){var t=Object(p.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a&&e.props.history.push("/");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e.userTyping=function(t,a){switch(t){case"email":e.setState({email:a.target.value});break;case"password":e.setState({password:a.target.value})}},e.submitLogin=function(){var t=Object(p.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,re.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(){e.props.history.push("/")}),(function(t){e.setState({serverError:!0}),console.log("Error logging in: ",t)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={email:null,password:null,serverError:!1},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("main",{className:t.main},r.a.createElement(Z.a,null),r.a.createElement(z.a,{className:t.paper},r.a.createElement(S.a,{component:"h1",variant:"h5"},"Log In!"),r.a.createElement("form",{onSubmit:function(t){return e.submitLogin(t)},className:t.form},r.a.createElement(K.a,{required:!0,fullWidth:!0,margin:"normal"},r.a.createElement(Y.a,{htmlFor:"login-email-input"},"Enter Your Email"),r.a.createElement(Q.a,{autoComplete:"email",autoFocus:!0,onChange:function(t){return e.userTyping("email",t)},id:"login-email-input"})),r.a.createElement(K.a,{required:!0,fullWidth:!0,margin:"normal"},r.a.createElement(Y.a,{htmlFor:"login-password-input"},"Enter Your Password"),r.a.createElement(Q.a,{autoComplete:"current-password",type:"password",onChange:function(t){return e.userTyping("password",t)},id:"login-password-input"})),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Log In")),this.state.serverError?r.a.createElement(S.a,{className:t.errorText,component:"h5",variant:"h6"},"Incorrect Login Information"):null,r.a.createElement("h5",{className:t.noAccountHeader},"Don't Have An Account?"),r.a.createElement(o.b,{className:t.signUpLink,to:"/signup"},"Sign Up!")))}}]),t}(r.a.Component),se=ne()(te)(ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=function(e){return{main:Object(j.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},hasAccountHeader:{width:"100%"},logInLink:{width:"100%",textDecoration:"none",color:"#303f9f",fontWeight:"bolder"},errorText:{color:"red",textAlign:"center"}}},ce=a(52),ue=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(g.a)(t).call(this))).formIsValid=function(){return e.state.password===e.state.passwordConfirmation},e.submitSignup=function(t){t.preventDefault(),e.formIsValid()?ce.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(t){var a={email:t.user.email,friends:[],messages:[]};ce.firestore().collection("users").doc(e.state.email).set(a).then((function(){e.props.history.push("/")}),(function(t){console.log("Failed to add user to the database: ",t),e.setState({signupError:"Failed to add user"})}))}),(function(t){console.log("Failed to create user: ",t),e.setState({signupError:"Failed to add user"})})):e.setState({signupError:"Passwords do not match"})},e.userTyping=function(t,a){switch(t){case"email":e.setState({email:a.target.value});break;case"password":e.setState({password:a.target.value});break;case"passwordConfirmation":e.setState({passwordConfirmation:a.target.value})}},e.state={email:null,password:null,passwordConfirmation:null,signupError:""},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("main",{className:t.main},r.a.createElement(Z.a,null),r.a.createElement(z.a,{className:t.paper}),r.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign Up!"),r.a.createElement("form",{onSubmit:function(t){return e.submitSignup(t)},className:t.form},r.a.createElement(K.a,{required:!0,fullWidth:!0,margin:"normal"},r.a.createElement(Y.a,{htmlFor:"signup-email-input"},"Enter Your Email"),r.a.createElement(Q.a,{type:"email",autoComplete:"email",autoFocus:!0,onChange:function(t){return e.userTyping("email",t)},id:"signup-email-input"})),r.a.createElement(K.a,{required:!0,fullWidth:!0,margin:"normal"},r.a.createElement(Y.a,{htmlFor:"signup-password-input"},"Create A Password"),r.a.createElement(Q.a,{type:"password",onChange:function(t){return e.userTyping("password",t)},id:"signup-password-input"})),r.a.createElement(K.a,{required:!0,fullWidth:!0,margin:"normal"},r.a.createElement(Y.a,{htmlFor:"signup-password-confirmation-input"},"Confirm Your Password"),r.a.createElement(Q.a,{type:"password",onChange:function(t){return e.userTyping("passwordConfirmation",t)},id:"signup-password-confirmation-input"})),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Submit")),this.state.signupError?r.a.createElement(S.a,{className:t.errorText,component:"h5",variant:"h6"},this.state.signupError):null,r.a.createElement("h5",{className:t.hasAccountHeader},"Already Have An Account?"),r.a.createElement(o.b,{className:t.logInLink,to:"/login"},"Log In!"))}}]),t}(r.a.Component),le=ne()(oe)(ue),pe=a(52);a(154),pe.initializeApp({apiKey:"AIzaSyAw4Z1ohHdwpg6qTwQJNHZVolZXjIE5CMc",authDomain:"notereactjs-havh.firebaseapp.com",databaseURL:"https://notereactjs-havh.firebaseio.com",projectId:"notereactjs-havh",storageBucket:"notereactjs-havh.appspot.com",messagingSenderId:"1045777364818",appId:"1:1045777364818:web:7069d916e02de84f47ac8b"});var me=r.a.createElement(o.a,null,r.a.createElement("div",{id:"routing-container"},r.a.createElement(c.a,{path:"/login",component:se}),r.a.createElement(c.a,{path:"/signup",component:le}),r.a.createElement(c.a,{path:"/",exact:!0,component:ee})));s.a.render(me,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[112,1,2]]]);
//# sourceMappingURL=main.9586493c.chunk.js.map